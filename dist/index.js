!function(t){function e(e){for(var a,o,n=e[0],i=e[1],l=e[2],u=0,h=[];u<n.length;u++)o=n[u],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&h.push(s[o][0]),s[o]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a]);for(p&&p(e);h.length;)h.shift()();return c.push.apply(c,l||[]),r()}function r(){for(var t,e=0;e<c.length;e++){for(var r=c[e],a=!0,n=1;n<r.length;n++){var i=r[n];0!==s[i]&&(a=!1)}a&&(c.splice(e--,1),t=o(o.s=r[0]))}return t}var a={},s={0:0},c=[];function o(e){if(a[e])return a[e].exports;var r=a[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=t,o.c=a,o.d=function(t,e,r){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(r,a,function(e){return t[e]}.bind(null,a));return r},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var n=window.webpackJsonp=window.webpackJsonp||[],i=n.push.bind(n);n.push=e,n=n.slice();for(var l=0;l<n.length;l++)e(n[l]);var p=i;c.push([1,1]),r()}([,function(t,e,r){"use strict";r.r(e);var a=r(0),s=a.b`#myastro{--orbit-color: rgb(0, 0, 0);width:100%;height:100%;fill:none;stroke:var(--orbit-color, green);stroke-width:1;stroke-linecap:round;transform:rotate(-90deg)}:root{background:#dedede}line{stroke-width:0.2;display:none}.planet{stroke-width:0.4;stroke:var(--orbit-color, red);animation-play-state:paused !important;cy:calc(calc(100/ 2) * 1px);transform-origin:calc(calc(100/ 2) * 1px) calc(calc(100/ 2) * 1px)}.planet.play{animation-play-state:running !important}.orbit{cx:calc(calc(100/ 2) * 1px);cy:calc(calc(100/ 2) * 1px);stroke-width:0.5;fill:transparent;stroke:var(--orbit-color, red);transform-origin:calc(calc(100/ 2) * 1px) calc(calc(100/ 2) * 1px)}#myastro .sun{cx:calc(calc(100/ 2) * 1px);r:calc(1 * 1.03 * 1px);transform:rotate(calc(0 * 1deg));animation:none;fill:#ff0;transform:none;stroke:var(--orbit-color, red);stroke-width:0.4;cy:calc(calc(100/ 2) * 1px)}@keyframes sunRotate{from{transform:rotate(calc(0 * 1deg))}to{transform:rotate(calc(0 * 1deg + 360deg))}}#myastro .mercury{cx:calc(1.03 * 1.04 * calc(calc(100/ 2) * 1px));r:calc(.8 * 1.03 * 1px);transform:rotate(calc(var(--start-mercury) * 1deg));animation:none;fill:gray}#myastro .mercury.play{animation:mercuryRotate calc((360 / ((360 / 88) * 365)) * 60 * 1s) steps(365) infinite}@keyframes mercuryRotate{from{transform:rotate(calc(var(--start-mercury) * 1deg))}to{transform:rotate(calc(var(--start-mercury) * 1deg + 360deg))}}#myastro .mercury-orbit{r:calc(calc((1.03 * 1.04 * calc(100/ 2)) - calc(100/ 2)) * 1px)}#myastro .venus{cx:calc(1.03 * 1.111 * calc(calc(100/ 2) * 1px));r:calc(1.6 * 1.03 * 1px);transform:rotate(calc(var(--start-venus) * 1deg));animation:none;fill:#ff73d7}#myastro .venus.play{animation:venusRotate calc((360 / ((360 / 225) * 365)) * 60 * 1s) steps(365) infinite}@keyframes venusRotate{from{transform:rotate(calc(var(--start-venus) * 1deg))}to{transform:rotate(calc(var(--start-venus) * 1deg + 360deg))}}#myastro .venus-orbit{r:calc(calc((1.03 * 1.111 * calc(100/ 2)) - calc(100/ 2)) * 1px)}#myastro .earth{cx:calc(1.03 * 1.2 * calc(calc(100/ 2) * 1px));r:calc(2 * 1.03 * 1px);transform:rotate(calc(var(--start-earth) * 1deg));animation:none;fill:#5eb1ff}#myastro .earth.play{animation:earthRotate calc((360 / ((360 / 365) * 365)) * 60 * 1s) steps(365) infinite}@keyframes earthRotate{from{transform:rotate(calc(var(--start-earth) * 1deg))}to{transform:rotate(calc(var(--start-earth) * 1deg + 360deg))}}#myastro .earth-orbit{r:calc(calc((1.03 * 1.2 * calc(100/ 2)) - calc(100/ 2)) * 1px)}#myastro .mars{cx:calc(1.03 * 1.29 * calc(calc(100/ 2) * 1px));r:calc(1.4 * 1.03 * 1px);transform:rotate(calc(var(--start-mars) * 1deg));animation:none;fill:#ff5527}#myastro .mars.play{animation:marsRotate calc((360 / ((360 / 687) * 365)) * 60 * 1s) steps(365) infinite}@keyframes marsRotate{from{transform:rotate(calc(var(--start-mars) * 1deg))}to{transform:rotate(calc(var(--start-mars) * 1deg + 360deg))}}#myastro .mars-orbit{r:calc(calc((1.03 * 1.29 * calc(100/ 2)) - calc(100/ 2)) * 1px)}#myastro .asteroid-belt-orbit{r:calc(calc((1.03 * 1.35 * calc(100/ 2)) - calc(100/ 2)) * 1px)}#myastro .jupiter{cx:calc(1.03 * 1.44 * calc(calc(100/ 2) * 1px));r:calc(3 * 1.03 * 1px);transform:rotate(calc(var(--start-jupiter) * 1deg));animation:none;fill:#f8840b}#myastro .jupiter.play{animation:jupiterRotate calc((360 / ((360 / 4331) * 365)) * 60 * 1s) steps(365) infinite}@keyframes jupiterRotate{from{transform:rotate(calc(var(--start-jupiter) * 1deg))}to{transform:rotate(calc(var(--start-jupiter) * 1deg + 360deg))}}#myastro .jupiter-orbit{r:calc(calc((1.03 * 1.44 * calc(100/ 2)) - calc(100/ 2)) * 1px)}#myastro .saturn{cx:calc(1.03 * 1.57 * calc(calc(100/ 2) * 1px));r:calc(2.5 * 1.03 * 1px);transform:rotate(calc(var(--start-saturn) * 1deg));animation:none;fill:#f8ca14}#myastro .saturn.play{animation:saturnRotate calc((360 / ((360 / 10747) * 365)) * 60 * 1s) steps(365) infinite}@keyframes saturnRotate{from{transform:rotate(calc(var(--start-saturn) * 1deg))}to{transform:rotate(calc(var(--start-saturn) * 1deg + 360deg))}}#myastro .saturn-orbit{r:calc(calc((1.03 * 1.57 * calc(100/ 2)) - calc(100/ 2)) * 1px)}#myastro .uranus{cx:calc(1.03 * 1.68 * calc(calc(100/ 2) * 1px));r:calc(1.8 * 1.03 * 1px);transform:rotate(calc(var(--start-uranus) * 1deg));animation:none;fill:#3adfff}#myastro .uranus.play{animation:uranusRotate calc((360 / ((360 / 30589) * 365)) * 60 * 1s) steps(365) infinite}@keyframes uranusRotate{from{transform:rotate(calc(var(--start-uranus) * 1deg))}to{transform:rotate(calc(var(--start-uranus) * 1deg + 360deg))}}#myastro .uranus-orbit{r:calc(calc((1.03 * 1.68 * calc(100/ 2)) - calc(100/ 2)) * 1px)}#myastro .neptune{cx:calc(1.03 * 1.78 * calc(calc(100/ 2) * 1px));r:calc(1.6 * 1.03 * 1px);transform:rotate(calc(var(--start-neptune) * 1deg));animation:none;fill:#9755ff}#myastro .neptune.play{animation:neptuneRotate calc((360 / ((360 / 59800) * 365)) * 60 * 1s) steps(365) infinite}@keyframes neptuneRotate{from{transform:rotate(calc(var(--start-neptune) * 1deg))}to{transform:rotate(calc(var(--start-neptune) * 1deg + 360deg))}}#myastro .neptune-orbit{r:calc(calc((1.03 * 1.78 * calc(100/ 2)) - calc(100/ 2)) * 1px)}
`;const c=new URL(document.location),o=new URLSearchParams(c.search);class n extends a.a{static get styles(){return[s]}static get properties(){return{posterDate:{type:String,reflect:!0,converter:t=>new Date(t)},daysThisYear:{type:Number,reflect:!0},color:{type:String,reflect:!0}}}firstUpdated(t){this.componentContainer=this.shadowRoot.querySelector("#myastro"),this.sun=this.shadowRoot.querySelector("#sun"),this.planets=this.shadowRoot.querySelectorAll(".planet"),this.orbits=this.shadowRoot.querySelectorAll(".orbit"),this.updateUrlFromProps(),this.loaded=!0,this.checkBrowser(),this.updatePlanetMap()}constructor(){super(),this.loaded=!1,this.updatePropsFromUrl();const t=new Date(2e3,0,1,12,0,0);this.refDate=new Date(t.getTime()-60*t.getTimezoneOffset()*1e3),this.constructClock()}attributeChangedCallback(t,e,r){super.attributeChangedCallback(t,e,r),this.updateUrlFromProps(),this.updatePlanetMap()}updatePropsFromUrl(){this.color=o.has("color")?o.get("color"):"pink",this.posterDate=o.has("posterDate")?new Date(isNaN(o.get("posterDate"))?o.get("posterDate"):new Date):new Date}updateUrlFromProps(){o.set("color",this.color),o.set("posterDate",`${this.posterDate.getFullYear()}-${this.posterDate.toLocaleString("default",{month:"short"})}-${this.posterDate.getDate()}`),window.history.replaceState({},"Updating poster Design",`?${o.toString()}`)}togglePlanetAnimation(){console.log("Toggling planet animation"),this.planets.forEach(t=>{t.classList.toggle("play")})}updatePlanetMap(){this.computeReferenceAngles(),void 0!==this.componentContainer&&this.componentContainer.style.setProperty("--days-this-year",parseInt(this.daysThisYear(),10)),this.setPlanetsOrbits()}daysThisYear(){return this.isLeapYear()?366:365}isLeapYear(){const t=this.posterDate.getYear();return t%400==0||t%100!=0&&t%4==0}render(){let t;return this.color&&(t=a.c`<style>#myastro { --orbit-color: ${this.color} !important;} </style>`),a.c`
    
    ${t}

    <svg @click="${this.togglePlanetAnimation}" class="myastro-render frag" id="myastro" viewBox="0 0 100 100" baseProfile="full" width="100px" height="100px" xmlns="http://www.w3.org/2000/svg">

      <line x1="0" y1="50" x2="100" y2="50" class="lineX" />
      <line x1="50" y1="0" x2="50" y2="100" class="lineY" />

      <circle cx="0" cy="0" r="0.7" id="sun" class="sun" />

      <circle cx="0" cy="0" r="0.1" class="orbit mercury-orbit" />
      <circle cx="0" cy="0" r="0.1" class="planet mercury" />

      <circle cx="0" cy="0" r="0.1" class="orbit venus-orbit" />
      <circle cx="0" cy="0" r="0.1" class="planet venus" />

      <circle cx="0" cy="0" r="0.1" class="orbit earth-orbit" />
      <circle cx="0" cy="0" r="0.1" class="planet earth" />

      <circle cx="0" cy="0" r="0.1" class="orbit mars-orbit" />
      <circle cx="0" cy="0" r="0.1" class="planet mars" />

      <circle cx="0" cy="0" r="0.1" class="orbit asteroid-belt-orbit" stroke-dasharray="0.25 1.7" />
      <circle cx="0" cy="0" r="0" class="planet" />

      <circle cx="0" cy="0" r="0.1" class="orbit jupiter-orbit" />
      <circle cx="0" cy="0" r="0.1" class="planet jupiter" />

      <circle cx="0" cy="0" r="0.1" class="orbit saturn-orbit" />
      <circle cx="0" cy="0" r="0.1" class="planet saturn" />

      <circle cx="0" cy="0" r="0.1" class="orbit uranus-orbit" />
      <circle cx="0" cy="0" r="0.1" id="planet-uranus" class="planet uranus" />

      <circle cx="0" cy="0" r="0.1" class="orbit neptune-orbit" />
      <circle cx="0" cy="0" r="0.1" id="planet-neptune" class="planet neptune" />

    </svg>
    `}computeReferenceAngles(){const t=(this.posterDate.getTime()-this.refDate.getTime())/315576e7,e=(this.TimeSinceFirstJanOfThisYear.getTime()-this.refDate.getTime())/315576e7;for(let r=0;r<this.RefAngle.length;r+=1)this.displayOffset?this.RefAngle[r]=this.JPL(t,r)+Math.PI-this.JPL(e,2):this.RefAngle[r]=this.JPL(t,r)+Math.PI}JPL(t,e){const r=this.a_0[e]+t*this.a_dot[e],a=this.e_0[e]+t*this.e_dot[e],s=this.I_0[e]+t*this.I_dot[e],c=this.L_0[e]+t*this.L_dot[e],o=this.wbar_0[e]+t*this.wbar_dot[e],n=this.omega_0[e]+t*this.omega_dot[e],i=o-n;let l=c-o;for(;l<180;)l+=360;for(;l>180;)l-=360;const p=Math.PI/180*l,u=this.keplerIterate(p,a),h=r*(Math.cos(u)-a),m=r*Math.sqrt(1-a*a)*Math.sin(u),f=Math.PI/180*i,y=Math.PI/180*n,d=Math.PI/180*s,g=Math.cos(f)*Math.cos(y),b=Math.cos(f)*Math.sin(y),x=Math.sin(f)*Math.cos(y),w=Math.sin(f)*Math.sin(y),v=w*Math.cos(d),P=x*Math.cos(d),k=(g-v)*h+(-x-b*Math.cos(d))*m,M=(b+P)*h+(-w+g*Math.cos(d))*m;let R=Math.atan2(M,k);return R*=-1,R}keplerIterate(t,e){for(var r,a,s=t,c=0;c++<100;){if(r=(a=t+e*Math.sin(s))-s,Math.abs(r)<1e-4)return a;s=a}return alert("keplerIterate: No convergence"),0}setPlanetsOrbits(){let t=[];for(let e=0;e<8;e++)t[e]=-1*this.RefAngle[e]*180/Math.PI+180;void 0!==this.componentContainer&&(this.componentContainer.style.setProperty("--start-mercury",t[0]),this.componentContainer.style.setProperty("--start-venus",t[1]),this.componentContainer.style.setProperty("--start-earth",t[2]),this.componentContainer.style.setProperty("--start-mars",t[3]),this.componentContainer.style.setProperty("--start-jupiter",t[4]),this.componentContainer.style.setProperty("--start-saturn",t[5]),this.componentContainer.style.setProperty("--start-uranus",t[6]),this.componentContainer.style.setProperty("--start-neptune",t[7]))}setLayout(){const t=[.8,1.6,2,1.4,0,3,2.5,1.8,1.6],e=[1.04,1.111,1.2,1.29,1.35,1.44,1.57,1.68,1.78],r=this.planets,a=this.orbits,s=this.sun;s.setAttribute("r",1),s.setAttribute("cx",50),s.setAttribute("cy",50);for(let s=0;s<9;s+=1){const c=1.03*e[s]*50-50;a[s].setAttribute("r",c),a[s].setAttribute("cx",50),a[s].setAttribute("cy",50),r[s].setAttribute("r",t[s]),r[s].setAttribute("cx",50+c),r[s].setAttribute("cy",50)}}checkBrowser(){const t=!!window.opr&&!!opr.addons||!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0,e="undefined"!=typeof InstallTrigger;console.log("Browser is FIREFOX switching to 'Layout JS' function "),this.setLayout();const r=/constructor/i.test(window.HTMLElement)||"[object SafariRemoteNotification]"===(!window.safari||"undefined"!=typeof safari&&safari.pushNotification).toString(),a=!!document.documentMode,s=!a&&!!window.StyleMedia,c=!(!window.chrome||!window.chrome.webstore&&!window.chrome.runtime);let o="Detecting browsers by ducktyping:<hr>";o+=`isFirefox:  ${e}  <br>`,o+=`isChrome:  ${c}  <br>`,o+=`isSafari:  ${r}  <br>`,o+=`isOpera:  ${t}  <br>`,o+=`isIE:  ${a}  <br>`,o+=`isEdge:  ${s}  <br>`,o+=`isBlink:  ${(c||t)&&!!window.CSS}  <br>`}constructClock(){this.RefAngle=[0,0,0,0,0,0,0,0],this.displayOffset=!0;const t=new Date(this.posterDate.getFullYear(),0,1,12,0,0);this.TimeSinceFirstJanOfThisYear=new Date(t.getTime()-60*t.getTimezoneOffset()*1e3);parseInt(this.daysThisYear());this.a_0=[.38709927,.72333566,1.00000261,1.52371034,5.202887,9.53667594,19.18916464,30.06992276],this.a_dot=[37e-8,39e-7,562e-8,1847e-8,-11607e-8,-.0012506,-.00196176,26291e-8],this.e_0=[.20563593,.00677672,.01671123,.0933941,.04838624,.05386179,.04725744,.00859048],this.e_dot=[1906e-8,-4107e-8,-4392e-8,7882e-8,-13253e-8,-50991e-8,-4397e-8,5105e-8],this.I_0=[7.00497902,3.39467605,-1531e-8,1.84969142,1.30439695,2.48599187,.77263783,1.77004347],this.I_dot=[-.00594749,-7889e-7,-.01294668,-.00813131,-.00183714,.00193609,-.00242939,35372e-8],this.L_0=[252.2503235,181.9790995,100.46457166,-4.55343205,34.39644051,49.95424423,313.23810451,-55.12002969],this.L_dot=[149472.67411175,58517.81538729,35999.37244981,19140.30268499,3034.74612775,1222.49362201,428.48202785,218.45945325],this.wbar_0=[77.45779628,131.60246718,102.93768193,-23.94362959,14.72847983,92.59887831,170.9542763,44.96476227],this.wbar_dot=[.16047689,.00268329,.32327364,.44441088,.21252668,-.41897216,.40805281,-.32241464],this.omega_0=[48.33076593,76.67984255,0,49.55953891,100.47390909,113.66242448,74.01692503,131.78422574],this.omega_dot=[-.12534081,-.27769418,0,-.29257343,.20469106,-.28867794,.04240589,-.00508664]}}window.customElements.define("planet-clock-element",n),r.d(e,"PlanetClockElement",(function(){return n}))}]);